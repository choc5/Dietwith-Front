;/*FB_PKG_DELIM*/

__d("IGDPollFacepile.react",["fbt","CometPressable.react","CometTooltip_DEPRECATED.react","FDSTooltipGroup.react","IGDSAvatar.react","IGDSText.react","intlSummarizeNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},contactMedium:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},overflow:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",display:"x78zum5",$$css:!0},overflowLarge:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",marginStart:"xp7jhwk",marginLeft:null,marginRight:null,paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},overflowMedium:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"x1qx5ct2",marginStart:"xbmpl8g",marginLeft:null,marginRight:null,paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},overflowSmall:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",marginStart:"x139jcc6",marginLeft:null,marginRight:null,paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=k(31),d=a.contacts,e=a.contactWithBorderStyle,f=a.countOverride,g=a.direction,h=a.gap,j=a.limit,p=a.onPress,q=a.showTooltip,r=a.size;a=g===void 0?"normal":g;var s=h===void 0?"normal":h;g=j===void 0?3:j;var t=q===void 0?!0:q;h=f!=null?f:d.length;if(h===0)return null;b[0]!==h||b[1]!==g||b[2]!==d?(j=h<=g?Math.min(g,d.length):g-1,b[0]=h,b[1]=g,b[2]=d,b[3]=j):j=b[3];q=j;f=h-q;g=f>0;b[4]!==g||b[5]!==d||b[6]!==q||b[7]!==f||b[8]!==t||b[9]!==r?(j=g?l.jsx(o,{contacts:d,facepileCount:q,overflowCount:f,showTooltip:t,size:r}):null,b[4]=g,b[5]=d,b[6]=q,b[7]=f,b[8]=t,b[9]=r,b[10]=j):j=b[10];h=j;if(b[11]!==g||b[12]!==q||b[13]!==d||b[14]!==s||b[15]!==r||b[16]!==t||b[17]!==e){b[19]!==s||b[20]!==r||b[21]!==t||b[22]!==e?(f=function(a,b){var d;return l.jsx("div",{className:(i||(i=c("stylex")))(m.photoWrap,s==="normal"?m.contactGapNormal:m.contactGapNegative,r==="medium"?m.contactMedium:r==="small"?m.contactSmall:m.contactLarge),children:l.jsx(n,{tooltip:t&&a.name!=null?l.jsx(c("IGDSText.react"),{children:a.name}):null,children:l.jsx(c("IGDSAvatar.react"),{alt:(d=a.name)!=null?d:"",size:r==="medium"?"extraSmall":r==="small"?"micro":"small",src:a.profile_picture_url,xstyle:[m.contact,e]})})},String(b))},b[19]=s,b[20]=r,b[21]=t,b[22]=e,b[23]=f):f=b[23];j=d.slice(-(g?q:1e3)).reverse().map(f);b[11]=g;b[12]=q;b[13]=d;b[14]=s;b[15]=r;b[16]=t;b[17]=e;b[18]=j}else j=b[18];b[24]!==h||b[25]!==j?(f=l.jsxs(c("FDSTooltipGroup.react"),{children:[h,j]}),b[24]=h,b[25]=j,b[26]=f):f=b[26];g=f;b[27]!==p||b[28]!==a||b[29]!==g?(q=p!=null?l.jsx(c("CometPressable.react"),{onPress:p,overlayDisabled:!0,xstyle:[m.root,a==="reversed"?m.rootReversed:null],children:g}):l.jsx("div",{className:(i||(i=c("stylex")))(m.root,a==="reversed"?m.rootReversed:null),children:g}),b[27]=p,b[28]=a,b[29]=g,b[30]=q):q=b[30];return q}function n(a){var b=k(3),d=a.children;a=a.tooltip;if(a==null)return d;var e;b[0]!==a||b[1]!==d?(e=l.jsx(c("CometTooltip_DEPRECATED.react"),{align:"middle",position:"above",tooltip:a,children:d}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}function o(a){var b=k(21),d=a.contacts,e=a.facepileCount,f=a.overflowCount,g=a.showTooltip;a=a.size;if(b[0]!==e||b[1]!==d){var j;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){return a.name!=null},b[3]=j):j=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){a=a.name;if(a!=null)return a;else return""},b[4]=o):o=b[4];j=d.slice(0,-e).reverse().filter(j).map(o);o=j.length===0?void 0:l.jsx("ul",{children:j.map(function(a,b){return l.jsx("li",{children:a},String(b))})});b[0]=e;b[1]=d;b[2]=o}else o=b[2];j=o;b[5]!==g||b[6]!==j?(e=g&&j!=null?l.jsx(c("IGDSText.react"),{children:j}):null,b[5]=g,b[6]=j,b[7]=e):e=b[7];d=a==="medium"?m.overflowMedium:a==="small"?m.overflowSmall:m.overflowLarge;b[8]!==d?(o=(i||(i=c("stylex")))([m.overflow,d]),b[8]=d,b[9]=o):o=b[9];g=a==="medium"?"body":a==="small"?"miniscule":"label";b[10]!==f?(j=h._("__JHASH__aWEIlPNCu0S__JHASH__",[h._param("number of users",c("intlSummarizeNumber")(f))]),b[10]=f,b[11]=j):j=b[11];b[12]!==g||b[13]!==j?(d=l.jsx(c("IGDSText.react"),{color:"primaryText",size:g,textAlign:"center",children:j}),b[12]=g,b[13]=j,b[14]=d):d=b[14];b[15]!==o||b[16]!==d?(a=l.jsx("div",{className:o,children:d}),b[15]=o,b[16]=d,b[17]=a):a=b[17];b[18]!==e||b[19]!==a?(f=l.jsx(n,{tooltip:e,children:a}),b[18]=e,b[19]=a,b[20]=f):f=b[20];return f}g["default"]=a}),226);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.onError,d=a.onLoad,e=a.videoRef;i(function(){var a=e==null?void 0:e.current;function f(){d==null?void 0:d()}function g(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);b==null?void 0:b(a)}if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){f();return}a==null?void 0:a.addEventListener("canplay",f);a==null?void 0:a.addEventListener("error",g);return function(){a==null?void 0:a.removeEventListener("canplay",f),a==null?void 0:a.removeEventListener("error",g)}},[b,d,e]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();return c("getGroupThreadViewParams")(a,b)}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","nullthrows","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w={type:v.Null},x="/?$";function y(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var z=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function A(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(z+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",z);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+x)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=C(y(b));return e!=null?{type:v.Recent,uriStateDetails:{fbid:e,type:n.Thread}}:w}var B=c("gkx")("23433")||c("gkx")("22839");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function C(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")();a=C(a);var l=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a),f.id+":319"))==null?void 0:b.threadType:null;var m=b!=null?c("MWCMIsAnyCMThread")(b):!1,o=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(k!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(k.threadKey),type:n.Thread}};if(g==null)return w;if(!j.startsWith(z)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);k=l.initial_e2ee_toggle_position==="1"||l.initial_e2ee_toggle_position===1||l.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";j=g.url.substring(z.length);j=c("nullthrows")((l=d("ConstUriUtils").getUri(j))==null?void 0:l.getPath().split("/"));if(a!=null){if(j.length===4&&j[0]===""&&j[1]==="e2ee"&&j[2]==="t"&&c("isArmadillo")())return{type:v.Recent,uriStateDetails:{fbid:a,type:n.SecureThread}};if(b!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(b))return A(g);if(m&&!B)return w;return o?{fbid:a,type:v.UnsupportedThread}:{type:v.Recent,uriStateDetails:{fbid:a,type:n.Thread}}}if(j==null)return A(g);switch(j.length){case 2:return j[1]==="new"?{type:v.Recent,uriStateDetails:{initialTogglePosition:k,type:n.Compose}}:A(g);case 3:if(j[1]!=="t")return A(g);if(j[2]==="")return A(g);l=C(j[2]);b=l!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(l),f.id+":429"):null;return l!=null&&b!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(b==null?void 0:b.threadType)?{type:v.Recent,uriStateDetails:{fbid:l,type:n.Thread}}:w;case 0:case 1:default:return A(g)}}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);